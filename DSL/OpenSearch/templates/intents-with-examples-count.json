{
  "script": {
    "lang": "mustache",
    "source": {
      "size": 0,
      "aggs": {
        "hot": {
          "terms": {
            "field": "intent.raw",
            "size": 10000
          },
          "aggs": {
            "examples_counts": {
              "value_count": {
                "field": "examples.raw"
              }
            }
          }
        }
      },
      "query": {
        "prefix": {
          "intent.raw": {
            "value": "{{prefix}}"
          }
        }
      }
    },
    "params": {
      "prefix": {
        "type": "string",
        "description": "Optional prefix to filter intents"
      }
    }
  }
}
